<section>

    <div class="card">
        <div class="header">Bienvenido <span *ngIf='user.displayName' class='nameheader'>{{user.displayName}}!</span></div>
        <div class="card-body">
            <h2>Perfil</h2>
            <div class="user-data"><img src={{user.photoURL}} class="img-fluid rounded-circle img-thumbnail float-left" alt="Foto de Perfil"></div>
            <div class="user-data"><span class="special">Nombre de usuario:</span> {{user.displayName}}</div>
            <div class="user-data"><span class="special">Correo electrónico:</span> {{user.email}}</div>
        </div>
        <div class="modify-btn">
            <button type="button" href="#updateuserdata" data-toggle="modal" class="userbtn btn btn-primary">Modificar Datos de Perfil</button>
        </div>
        <!-- <button type="button"  (click)='test()' class="btn btn-primary">makeadmin</button> -->
        
    </div>

    
    <div class="card">
        <h2>Manejo de Vehiculos</h2>
        <div class="card-body"> 
            <h3>Vehiculos Registrados</h3>             
            <div class= 'lista' *ngFor="let vehicle of Vehicles">
                <div *ngIf="vehicle.status == true; else Disabled">
                    <div class="car-card">
                        <div class='card-header'>{{vehicle.name}}</div>
                        <div class='card-footer'><button type="button" class="btn btn-danger disablebtn" (click)="disableVehicle(vehicle.uid)">Desactivar</button></div>
                    </div>
                    <div class="car-card">
                            <div class="foto">                                
                                <img src={{vehicle.foto}} class="img-fluid rounded-circle img-thumbnail float-left" width="250px" alt="Foto del vehículo">
                            </div>
                            <div>
                                <div class="user-data"><span class="special">Marca:</span> {{vehicle.marca}}</div>
                                <div class="user-data"><span class="special">Color:</span> {{vehicle.color}}</div>
                                <div class="user-data"><span class="special">Placa:</span> {{vehicle.placa}}</div>
                                <div class="user-data"><span class="special">Año:</span> {{vehicle.year}}</div>
                                <div class="user-data"><span class="special">Fecha de registro:</span> {{vehicle.DateRegistry.toDate() | date}}</div>
                            </div>
                    </div>       
                </div>
            </div>
        </div>

        <div class="modify-btn">
            <button type="button" href="#addVehicleModal" data-toggle="modal" class="userbtn btn btn-primary">Agregar Vehículo</button>
        </div>       

        <div class="card-footer">
            <app-footer></app-footer>
        </div>
        
    </div>

</section>


<div id="addVehicleModal" class="modal fade">
    <app-add-vehicle></app-add-vehicle>
</div>

<div id="updateuserdata" class="modal fade">
    <app-updatemodal></app-updatemodal>
</div>

<ng-template #Disabled class="disabled">

</ng-template>