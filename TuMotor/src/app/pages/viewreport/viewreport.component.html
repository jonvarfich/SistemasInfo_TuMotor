<app-navbar></app-navbar>
<section>
    <br>
    <br>
    <br>
    <br>
    <input type="button" value="Buscar todas las citas atendidas por un mecánico" (click)="this.State = 'mechanic'; this.ready = false">
    <input type="button" value="Buscar Usuario" (click)="this.State = 'user'; this.ready = false">
    <input type="button" value="Buscar todas las citas de un vehículo" (click)="this.State = 'vehicle'; this.ready = false ">
    
    <ng-container *ngIf=" this.State == 'mechanic' ">
        <label>Ingrese el mail del mecánico al cual se desea ver todas sus citas realizadas</label>
        <div class="form-group">
            <input type="text" #mechanic required ngModel>
            <input type="button" value="Enviar" (click)="this.mechanicQuery(mechanic.value)">
        </div>

        <ng-container *ngIf="this.ready == true">
            <ng-container *ngFor="let cita of this.mechAppointments; let i = index">
                {{cita.uid}}
            </ng-container>
        </ng-container>
    </ng-container>

    <ng-container *ngIf=" this.State == 'user' ">

        <label>Ingrese el email del usuario</label>
        <div class="form-group">
            <input type="text" #user required ngModel>
            <input type="button" value="Enviar" (click)="clientQuery(user.value)">
        </div>
        
        <ng-container *ngIf="this.ready == true">

            {{UserQuery.displayName}}
            <img src={{UserQuery.photoURL}} alt="">

            <ng-container *ngFor="let car of this.Vehicles; let i = index">

                {{car.uid}}
                {{car.status}}

            </ng-container>

        </ng-container>

    </ng-container>

    <ng-container *ngIf=" this.State == 'vehicle' ">

        <label>Ingrese el ID del vehículo que se quiere ver todas sus citas</label>
        <div class="form-group">
            <input type="text" #car required ngModel>
            <input type="button" value="Enviar" (click)="vehicleAppointments(car.value)">
        </div>

        <ng-container *ngIf="this.ready == true">

            <ng-container *ngFor="let cita of this.mechAppointments; let i = index">
                {{cita.uid}}
            </ng-container>

        </ng-container>
        
    </ng-container>

</section>
<app-footer></app-footer>